# üìö API –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä API](#–æ–±–∑–æ—Ä-api)
- [–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–∫–ª–∞—Å—Å—ã)
- [–°–µ—Ç—å (ComputeNetwork)](#—Å–µ—Ç—å-computenetwork)
- [–£–∑–µ–ª (Node)](#—É–∑–µ–ª-node)
- [–ó–∞–¥–∞—á–∏ (Task)](#–∑–∞–¥–∞—á–∏-task)
- [Compute-–∫—Ä–µ–¥–∏—Ç—ã (Credits)](#compute-–∫—Ä–µ–¥–∏—Ç—ã-credits)
- [–†–µ–ø—É—Ç–∞—Ü–∏—è (Reputation)](#—Ä–µ–ø—É—Ç–∞—Ü–∏—è-reputation)
- [Sandbox (Sandbox)](#sandbox-sandbox)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
- [WebSocket API](#websocket-api)

---

## üéØ –û–±–∑–æ—Ä API

API –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π P2P –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–π —Å–µ—Ç–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–µ—Ç—å—é, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã API

- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å** - –≤—Å–µ –º–µ—Ç–æ–¥—ã API –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `async/await`
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ—à–∏–±–æ–∫, –∞ –Ω–µ –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–¢–∏–ø–∏–∑–∞—Ü–∏—è** - –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Python type hints
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API

```
src/
‚îú‚îÄ‚îÄ main.py              # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å ComputeNetwork
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ node.py          # –ö–ª–∞—Å—Å Node
‚îÇ   ‚îú‚îÄ‚îÄ task.py          # –ö–ª–∞—Å—Å Task
‚îÇ   ‚îú‚îÄ‚îÄ credits.py       # –ö–ª–∞—Å—Å Credits
‚îÇ   ‚îú‚îÄ‚îÄ reputation.py    # –ö–ª–∞—Å—Å Reputation
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ sandbox/
‚îÇ   ‚îú‚îÄ‚îÄ execution.py     # Sandbox –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ pricing/
‚îÇ   ‚îú‚îÄ‚îÄ dynamic.py       # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ network/
    ‚îú‚îÄ‚îÄ discovery.py     # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É–∑–ª–æ–≤
    ‚îú‚îÄ‚îÄ routing.py       # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
    ‚îî‚îÄ‚îÄ protocol.py      # –ü—Ä–æ—Ç–æ–∫–æ–ª—ã
```

---

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã

### –ò–º–ø–æ—Ä—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤

```python
from src.main import ComputeNetwork
from src.core.node import Node, Capabilities
from src.core.task import Task, TaskType, TaskPriority, TaskStatus
from src.core.credits import Credits, CreditTransaction
from src.core.reputation import Reputation
from src.sandbox.execution import Sandbox, SandboxType
from src.pricing.dynamic import PricingEngine
```

---

## üåê –°–µ—Ç—å (ComputeNetwork)

–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å P2P —Å–µ—Ç—å—é.

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```python
class ComputeNetwork:
    def __init__(
        self,
        host: str = "127.0.0.1",
        port: int = 5557,
        node_type: str = "client",
        seed_nodes: Optional[List[str]] = None,
        config_path: Optional[str] = None,
        log_level: str = "INFO"
    ):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–π —Å–µ—Ç–∏
        
        Args:
            host: –ê–¥—Ä–µ—Å –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
            port: –ü–æ—Ä—Ç –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
            node_type: –¢–∏–ø —É–∑–ª–∞ (client, public, seed)
            seed_nodes: –°–ø–∏—Å–æ–∫ seed-—É–∑–ª–æ–≤ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
            config_path: –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
            log_level: –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        """
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç—å—é

```python
async def start(self) -> None:
    """–ó–∞–ø—É—Å–∫ —Å–µ—Ç–∏"""
    
async def stop(self) -> None:
    """–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ç–∏"""
    
async def restart(self) -> None:
    """–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ç–∏"""
    
async def get_network_status(self) -> Dict[str, Any]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ç–∏"""
    
async def get_node_info(self) -> Dict[str, Any]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É–∑–ª–µ"""
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏

```python
async def submit_task(self, task_data: Dict[str, Any]) -> str:
    """
    –ü–æ–¥–∞—á–∞ –∑–∞–¥–∞—á–∏ –≤ —Å–µ—Ç—å
    
    Args:
        task_data: –î–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
        
    Returns:
        task_id: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–¥–∞—á–∏
    """
    
async def get_task_status(self, task_id: str) -> Dict[str, Any]:
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏
    
    Args:
        task_id: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–¥–∞—á–∏
        
    Returns:
        status: –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏
    """
    
async def cancel_task(self, task_id: str) -> bool:
    """
    –û—Ç–º–µ–Ω–∞ –∑–∞–¥–∞—á–∏
    
    Args:
        task_id: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–¥–∞—á–∏
        
    Returns:
        success: –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã
    """
    
async def get_task_result(self, task_id: str) -> Any:
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞–¥–∞—á–∏
    
    Args:
        task_id: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–¥–∞—á–∏
        
    Returns:
        result: –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    """
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞–º–∏

```python
async def get_nodes_list(self) -> List[Dict[str, Any]]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É–∑–ª–æ–≤ –≤ —Å–µ—Ç–∏"""
    
async def get_node_details(self, node_id: str) -> Dict[str, Any]:
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π —É–∑–ª–∞
    
    Args:
        node_id: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É–∑–ª–∞
        
    Returns:
        details: –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É–∑–ª–µ
    """
    
async def connect_to_node(self, node_id: str) -> bool:
    """
    –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —É–∑–ª—É
    
    Args:
        node_id: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É–∑–ª–∞
        
    Returns:
        success: –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
    """
    
async def disconnect_from_node(self, node_id: str) -> bool:
    """
    –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç —É–∑–ª–∞
    
    Args:
        node_id: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É–∑–ª–∞
        
    Returns:
        success: –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
    """
```

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```python
async def get_network_metrics(self) -> Dict[str, Any]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ —Å–µ—Ç–∏"""
    
async def get_task_metrics(self) -> Dict[str, Any]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∑–∞–¥–∞—á"""
    
async def get_resource_metrics(self) -> Dict[str, Any]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤"""
    
async def get_credit_metrics(self) -> Dict[str, Any]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∫—Ä–µ–¥–∏—Ç–æ–≤"""
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
import asyncio
from src.main import ComputeNetwork
from src.core.task import Task, TaskType, TaskPriority

async def main():
    # –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏
    network = ComputeNetwork(host="127.0.0.1", port=5557)
    
    try:
        # –ó–∞–ø—É—Å–∫ —Å–µ—Ç–∏
        await network.start()
        await asyncio.sleep(2)
        
        print(f"üÜî Node ID: {network.node.node_id}")
        
        # –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
        task_data = {
            "task_type": "range_reduce",
            "owner_id": network.node.node_id,
            "requirements": {
                "cpu_percent": 50.0,
                "ram_gb": 0.5,
                "timeout_seconds": 30
            },
            "config": {
                "operation": "sum",
                "start": 1,
                "end": 1000,
                "max_price": 0.1,
                "priority": TaskPriority.NORMAL.value
            }
        }
        
        # –ü–æ–¥–∞—á–∞ –∑–∞–¥–∞—á–∏
        task_id = await network.submit_task(task_data)
        print(f"‚úÖ –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞: {task_id}")
        
        # –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
        while True:
            status = await network.get_task_status(task_id)
            print(f"üìä –°—Ç–∞—Ç—É—Å: {status['status']}")
            
            if status['status'] in ['completed', 'failed']:
                break
                
            await asyncio.sleep(2)
        
        # –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        if status['status'] == 'completed':
            result = await network.get_task_result(task_id)
            print(f"üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
        
    finally:
        await network.stop()

asyncio.run(main())
```

---

## üñ•Ô∏è –£–∑–µ–ª (Node)

–ö–ª–∞—Å—Å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —É–∑–µ–ª –≤ —Å–µ—Ç–∏.

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```python
class Node:
    def __init__(
        self,
        node_id: str,
        host: str,
        port: int,
        capabilities: Optional[Capabilities] = None,
        node_type: str = "client"
    ):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–∑–ª–∞
        
        Args:
            node_id: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É–∑–ª–∞
            host: –ê–¥—Ä–µ—Å —É–∑–ª–∞
            port: –ü–æ—Ä—Ç —É–∑–ª–∞
            capabilities: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–∑–ª–∞
            node_type: –¢–∏–ø —É–∑–ª–∞
        """
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–æ–º

```python
async def start(self) -> None:
    """–ó–∞–ø—É—Å–∫ —É–∑–ª–∞"""
    
async def stop(self) -> None:
    """–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —É–∑–ª–∞"""
    
async def restart(self) -> None:
    """–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —É–∑–ª–∞"""
    
async def get_status(self) -> Dict[str, Any]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —É–∑–ª–∞"""
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏

```python
def update_capabilities(self, capabilities: Dict[str, Any]) -> None:
    """
    –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —É–∑–ª–∞
    
    Args:
        capabilities: –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
    """
    
def get_current_load(self) -> Dict[str, float]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∑–∞–≥—Ä—É–∑–∫–∏"""
    
def is_available_for_task(self, task_requirements: Dict[str, Any]) -> bool:
    """
    –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–ª—è –∑–∞–¥–∞—á–∏
    
    Args:
        task_requirements: –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∑–∞–¥–∞—á–µ
        
    Returns:
        available: –î–æ—Å—Ç—É–ø–µ–Ω –ª–∏ —É–∑–µ–ª
    """
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑—è–º–∏

```python
async def connect_to_peer(self, peer_id: str) -> bool:
    """
    –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —É–∑–ª—É-—Ä–∞–≤–Ω–æ–º—É
    
    Args:
        peer_id: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É–∑–ª–∞
        
    Returns:
        success: –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
    """
    
async def disconnect_from_peer(self, peer_id: str) -> bool:
    """
    –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç —É–∑–ª–∞-—Ä–∞–≤–Ω–æ–≥–æ
    
    Args:
        peer_id: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É–∑–ª–∞
        
    Returns:
        success: –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
    """
    
def get_peer_list(self) -> List[Dict[str, Any]]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —É–∑–ª–æ–≤"""
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from src.core.node import Node, Capabilities

async def node_example():
    # –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —É–∑–ª–∞
    capabilities = Capabilities(
        cpu_score=8.0,
        ram_gb=16.0,
        disk_gb=500.0,
        gpu_score=2.0,
        max_concurrent_tasks=20
    )
    
    # –°–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–∞
    node = Node(
        node_id="node-001",
        host="192.168.1.100",
        port=5557,
        capabilities=capabilities,
        node_type="public"
    )
    
    try:
        # –ó–∞–ø—É—Å–∫ —É–∑–ª–∞
        await node.start()
        
        # –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
        status = await node.get_status()
        print(f"üìä –°—Ç–∞—Ç—É—Å —É–∑–ª–∞: {status}")
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
        task_requirements = {
            "cpu_percent": 30.0,
            "ram_gb": 2.0,
            "timeout_seconds": 60
        }
        
        available = node.is_available_for_task(task_requirements)
        print(f"‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–ª—è –∑–∞–¥–∞—á–∏: {available}")
        
    finally:
        await node.stop()
```

---

## üìã –ó–∞–¥–∞—á–∏ (Task)

–ö–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏.

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```python
class Task:
    def __init__(
        self,
        task_id: str,
        owner_id: str,
        task_type: TaskType,
        requirements: Dict[str, Any],
        config: Dict[str, Any],
        priority: TaskPriority = TaskPriority.NORMAL
    ):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á–∏
        
        Args:
            task_id: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–¥–∞—á–∏
            owner_id: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–ª–∞–¥–µ–ª—å—Ü–∞
            task_type: –¢–∏–ø –∑–∞–¥–∞—á–∏
            requirements: –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ä–µ—Å—É—Ä—Å–∞–º
            config: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á–∏
            priority: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–¥–∞—á–∏
        """
```

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞–Ω–∏—è

```python
@staticmethod
def create_range_reduce(
    owner_id: str,
    start: int,
    end: int,
    operation: str,
    requirements: Dict[str, Any],
    config: Dict[str, Any]
) -> Task:
    """–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ range_reduce"""
    
@staticmethod
def create_map(
    owner_id: str,
    data: List[Any],
    operation: str,
    requirements: Dict[str, Any],
    config: Dict[str, Any]
) -> Task:
    """–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ map"""
    
@staticmethod
def create_map_reduce(
    owner_id: str,
    data: List[Any],
    map_operation: str,
    reduce_operation: str,
    requirements: Dict[str, Any],
    config: Dict[str, Any]
) -> Task:
    """–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ map_reduce"""
    
@staticmethod
def create_matrix_ops(
    owner_id: str,
    matrix_a: List[List[float]],
    matrix_b: List[List[float]],
    operation: str,
    requirements: Dict[str, Any],
    config: Dict[str, Any]
) -> Task:
    """–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ matrix_ops"""
    
@staticmethod
def create_ml_inference(
    owner_id: str,
    model_path: str,
    input_data: Any,
    requirements: Dict[str, Any],
    config: Dict[str, Any]
) -> Task:
    """–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ ml_inference"""
    
@staticmethod
def create_ml_train_step(
    owner_id: str,
    model_path: str,
    training_data: Any,
    requirements: Dict[str, Any],
    config: Dict[str, Any]
) -> Task:
    """–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ ml_train_step"""
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–µ–π

```python
def to_dict(self) -> Dict[str, Any]:
    """–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–ª–æ–≤–∞—Ä—å"""
    
@classmethod
def from_dict(cls, data: Dict[str, Any]) -> Task:
    """–°–æ–∑–¥–∞–Ω–∏–µ –∏–∑ —Å–ª–æ–≤–∞—Ä—è"""
    
def validate(self) -> List[str]:
    """–í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–¥–∞—á–∏"""
    
def estimate_cost(self, node_reputation: float) -> float:
    """–û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"""
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞–Ω–∫–∞–º–∏

```python
def create_chunks(self, chunk_size: int = 100) -> List[Chunk]:
    """–°–æ–∑–¥–∞–Ω–∏–µ —á–∞–Ω–∫–æ–≤ –∑–∞–¥–∞—á–∏"""
    
def get_chunk_requirements(self, chunk_id: str) -> Dict[str, Any]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ —á–∞–Ω–∫—É"""
    
def aggregate_results(self, chunk_results: List[Any]) -> Any:
    """–ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —á–∞–Ω–∫–æ–≤"""
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from src.core.task import Task, TaskType, TaskPriority

async def task_example():
    # –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ range_reduce
    task = Task.create_range_reduce(
        owner_id="user-001",
        start=1,
        end=10000,
        operation="sum",
        requirements={
            "cpu_percent": 25.0,
            "ram_gb": 1.0,
            "timeout_seconds": 60,
            "max_price": 0.05
        },
        config={
            "priority": TaskPriority.NORMAL.value,
            "chunk_size": 1000
        }
    )
    
    print(f"üÜî –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞: {task.task_id}")
    print(f"üìä –¢–∏–ø: {task.task_type}")
    print(f"üí∞ –û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏: {task.estimate_cost(0.8):.4f}")
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è
    errors = task.validate()
    if errors:
        print(f"‚ùå –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {errors}")
    else:
        print("‚úÖ –ó–∞–¥–∞—á–∞ –≤–∞–ª–∏–¥–Ω–∞")
    
    # –°–æ–∑–¥–∞–Ω–∏–µ —á–∞–Ω–∫–æ–≤
    chunks = task.create_chunks(chunk_size=2000)
    print(f"üî¢ –°–æ–∑–¥–∞–Ω–æ —á–∞–Ω–∫–æ–≤: {len(chunks)}")
    
    # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–ª–æ–≤–∞—Ä—å
    task_dict = task.to_dict()
    print(f"üìÑ –†–∞–∑–º–µ—Ä —Å–ª–æ–≤–∞—Ä—è: {len(task_dict)} –ø–æ–ª–µ–π")
```

---

## üí∞ Compute-–∫—Ä–µ–¥–∏—Ç—ã (Credits)

–ö–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è compute-–∫—Ä–µ–¥–∏—Ç–∞–º–∏.

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```python
class Credits:
    def __init__(
        self,
        initial_balance: float = 100.0,
        max_balance: float = 10000.0,
        min_transfer: float = 0.1
    ):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∫—Ä–µ–¥–∏—Ç–æ–≤
        
        Args:
            initial_balance: –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
            max_balance: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
            min_transfer: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥
        """
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–º

```python
def get_balance(self) -> float:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞"""
    
def add_credits(self, amount: float, reason: str = "system") -> bool:
    """
    –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ–≤
    
    Args:
        amount: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–µ–¥–∏—Ç–æ–≤
        reason: –ü—Ä–∏—á–∏–Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
        
    Returns:
        success: –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏
    """
    
def remove_credits(self, amount: float, reason: str = "system") -> bool:
    """
    –£–¥–∞–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ–≤
    
    Args:
        amount: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–µ–¥–∏—Ç–æ–≤
        reason: –ü—Ä–∏—á–∏–Ω–∞ —É–¥–∞–ª–µ–Ω–∏—è
        
    Returns:
        success: –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏
    """
    
def transfer_credits(self, to_node: str, amount: float) -> bool:
    """
    –ü–µ—Ä–µ–≤–æ–¥ –∫—Ä–µ–¥–∏—Ç–æ–≤ –¥—Ä—É–≥–æ–º—É —É–∑–ª—É
    
    Args:
        to_node: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è
        amount: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–µ–¥–∏—Ç–æ–≤
        
    Returns:
        success: –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–¥–∞
    """
```

#### –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

```python
def get_transaction_history(self, limit: int = 100) -> List[CreditTransaction]:
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
    
    Args:
        limit: –õ–∏–º–∏—Ç –∑–∞–ø–∏—Å–µ–π
        
    Returns:
        transactions: –°–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
    """
    
def get_transaction_details(self, transaction_id: str) -> Optional[CreditTransaction]:
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    
    Args:
        transaction_id: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
        
    Returns:
        transaction: –î–µ—Ç–∞–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    """
```

#### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

```python
def get_credit_metrics(self) -> Dict[str, Any]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∫—Ä–µ–¥–∏—Ç–æ–≤"""
    
def predict_credit_flow(self, days: int = 30) -> Dict[str, Any]:
    """
    –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞
    
    Args:
        days: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∞
        
    Returns:
        prediction: –ü—Ä–æ–≥–Ω–æ–∑
    """
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from src.core.credits import Credits, CreditTransaction

async def credits_example():
    # –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∫—Ä–µ–¥–∏—Ç–æ–≤
    credits = Credits(initial_balance=500.0, max_balance=10000.0)
    
    print(f"üí∞ –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å: {credits.get_balance()}")
    
    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ–≤
    success = credits.add_credits(100.0, "task_reward")
    if success:
        print(f"‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 100 –∫—Ä–µ–¥–∏—Ç–æ–≤")
    
    # –ü–µ—Ä–µ–≤–æ–¥ –∫—Ä–µ–¥–∏—Ç–æ–≤
    success = credits.transfer_credits("node-002", 50.0)
    if success:
        print(f"‚úÖ –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–æ 50 –∫—Ä–µ–¥–∏—Ç–æ–≤ node-002")
    
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
    balance = credits.get_balance()
    print(f"üí∞ –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: {balance}")
    
    # –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
    history = credits.get_transaction_history(limit=10)
    print(f"üìä –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: {len(history)} –∑–∞–ø–∏—Å–µ–π")
    
    for tx in history:
        print(f"  - {tx.timestamp}: {tx.amount} ({tx.type})")
    
    # –ú–µ—Ç—Ä–∏–∫–∏
    metrics = credits.get_credit_metrics()
    print(f"üìà –ú–µ—Ç—Ä–∏–∫–∏: {metrics}")
```

---

## üèÜ –†–µ–ø—É—Ç–∞—Ü–∏—è (Reputation)

–ö–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–ø—É—Ç–∞—Ü–∏–µ–π —É–∑–ª–æ–≤.

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```python
class Reputation:
    def __init__(
        self,
        initial_score: float = 0.5,
        decay_rate: float = 0.01,
        reward_multiplier: float = 1.2,
        penalty_multiplier: float = 1.5
    ):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
        
        Args:
            initial_score: –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–ª
            decay_rate: –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞—Ç—É—Ö–∞–Ω–∏—è
            reward_multiplier: –ú–Ω–æ–∂–∏—Ç–µ–ª—å –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–π
            penalty_multiplier: –ú–Ω–æ–∂–∏—Ç–µ–ª—å —à—Ç—Ä–∞—Ñ–æ–≤
        """
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø—É—Ç–∞—Ü–∏–µ–π

```python
def get_score(self) -> float:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–ª–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏"""
    
def get_level(self) -> str:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è —Ä–µ–ø—É—Ç–∞—Ü–∏–∏"""
    
def add_positive_feedback(self, amount: float = 1.0) -> None:
    """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏"""
    
def add_negative_feedback(self, amount: float = 1.0) -> None:
    """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏"""
    
def update_score(self, success: bool, quality: float = 1.0) -> None:
    """
    –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–ª–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
    
    Args:
        success: –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        quality: –ö–∞—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (0.0 - 1.0)
    """
```

#### –ú–µ—Ç—Ä–∏–∫–∏ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏

```python
def get_metrics(self) -> Dict[str, float]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏"""
    
def calculate_success_rate(self) -> float:
    """–†–∞—Å—á–µ—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"""
    
def calculate_quality_score(self) -> float:
    """–†–∞—Å—á–µ—Ç –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞"""
    
def calculate_consistency(self) -> float:
    """–†–∞—Å—á–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"""
```

#### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

```python
def get_reputation_trend(self, days: int = 30) -> Dict[str, Any]:
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
    
    Args:
        days: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π
        
    Returns:
        trend: –¢—Ä–µ–Ω–¥ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
    """
    
def predict_reputation_score(self, actions: List[Dict[str, Any]]) -> float:
    """
    –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–ª–ª–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏
    
    Args:
        actions: –°–ø–∏—Å–æ–∫ –æ–∂–∏–¥–∞–µ–º—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
        
    Returns:
        predicted_score: –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º—ã–π –±–∞–ª–ª
    """
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from src.core.reputation import Reputation

async def reputation_example():
    # –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
    reputation = Reputation(
        initial_score=0.5,
        decay_rate=0.01,
        reward_multiplier=1.2,
        penalty_multiplier=1.5
    )
    
    print(f"üèÜ –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–ª: {reputation.get_score()}")
    print(f"üìä –£—Ä–æ–≤–µ–Ω—å: {reputation.get_level()}")
    
    # –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
    reputation.update_score(success=True, quality=0.9)
    print(f"‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {reputation.get_score()}")
    
    # –ù–µ—É–¥–∞—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
    reputation.update_score(success=False, quality=0.3)
    print(f"‚ùå –ü–æ—Å–ª–µ –Ω–µ—É–¥–∞—á–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {reputation.get_score()}")
    
    # –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
    reputation.add_positive_feedback(0.5)
    print(f"üëç –ü–æ—Å–ª–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏: {reputation.get_score()}")
    
    # –ú–µ—Ç—Ä–∏–∫–∏
    metrics = reputation.get_metrics()
    print(f"üìà –ú–µ—Ç—Ä–∏–∫–∏: {metrics}")
    
    # –¢—Ä–µ–Ω–¥
    trend = reputation.get_reputation_trend(days=7)
    print(f"üìä –¢—Ä–µ–Ω–¥ –∑–∞ 7 –¥–Ω–µ–π: {trend}")
```

---

## üîí Sandbox —Å–ª–æ–π

`src/sandbox/execution.py` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–¥–∞.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

- `SandboxType` ‚Äî enum (`process_isolation`, `wasm`, `container`).
- `SandboxLimits` ‚Äî –ª–∏–º–∏—Ç—ã CPU/–ø–∞–º—è—Ç–∏/–≤—Ä–µ–º–µ–Ω–∏/—Ñ–∞–π–ª–æ–≤ + optional env.
- `CodeBundle` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ –ø–∞–∫–µ—Ç–∞ (entrypoint, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã, stdin, –∞—Ä–≥—É–º–µ–Ω—Ç—ã).
- `SandboxResult` ‚Äî stdout/stderr/exit_code/runtime + —Ñ–ª–∞–≥–∏ `timed_out`, `killed`, `usage`.
- `SandboxExecutor` ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å –º–µ—Ç–æ–¥–∞–º–∏ `execute(job, code_bundle, limits)` –∏ `run_self_test()`.
- `SandboxExecutorFactory.create()` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (—Å–µ–π—á–∞—Å `ProcessSandboxExecutor` + –∑–∞–≥–ª—É—à–∫–∏ WASM/Container).

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from sandbox.execution import (
    CodeBundle,
    SandboxExecutorFactory,
    SandboxLimits,
    SandboxType,
)

async def sandbox_example():
    executor = SandboxExecutorFactory.create(
        SandboxType.PROCESS_ISOLATION,
        SandboxLimits(cpu_time_seconds=10, memory_bytes=128 * 1024 * 1024),
    )

    bundle = CodeBundle(
        entrypoint="script.py",
        source="import json; data=json.load(open('input.json')); print(sum(data['values']))",
        files={"input.json": '{"values": [1, 2, 3, 4]}'},
    )

    result = await executor.execute(job=None, code_bundle=bundle, limits=None)
    if result.success:
        print(f"üìä STDOUT: {result.stdout.strip()}")
    else:
        print(f"‚ùå –û—à–∏–±–∫–∞: {result.stderr}")

    await executor.close()
```

`ProcessSandboxExecutor` –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã —á–µ—Ä–µ–∑ `resource.setrlimit` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é. `run_self_test()` –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `ComputeNetwork` –Ω–∞ —Å—Ç–∞—Ä—Ç–µ.

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏

```python
import asyncio
from src.main import ComputeNetwork
from src.core.task import Task, TaskType, TaskPriority

async def basic_example():
    # –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏
    network = ComputeNetwork(host="127.0.0.1", port=5557)
    
    try:
        # –ó–∞–ø—É—Å–∫
        await network.start()
        await asyncio.sleep(2)
        
        print(f"üÜî –£–∑–µ–ª –∑–∞–ø—É—â–µ–Ω: {network.node.node_id}")
        
        # –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–π –∑–∞–¥–∞—á–∏
        task = Task.create_range_reduce(
            owner_id=network.node.node_id,
            start=1,
            end=1000,
            operation="sum",
            requirements={
                "cpu_percent": 50.0,
                "ram_gb": 0.5,
                "timeout_seconds": 30
            },
            config={
                "max_price": 0.1,
                "priority": TaskPriority.NORMAL.value
            }
        )
        
        # –ü–æ–¥–∞—á–∞ –∑–∞–¥–∞—á–∏
        task_id = await network.submit_task(task.to_dict())
        print(f"üìù –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞: {task_id}")
        
        # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        while True:
            status = await network.get_task_status(task_id)
            print(f"üìä –°—Ç–∞—Ç—É—Å: {status['status']}")
            
            if status['status'] == 'completed':
                result = await network.get_task_result(task_id)
                print(f"üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
                break
            elif status['status'] == 'failed':
                print(f"‚ùå –ó–∞–¥–∞—á–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞")
                break
                
            await asyncio.sleep(1)
            
    finally:
        await network.stop()

asyncio.run(basic_example())
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```python
import asyncio
import numpy as np
from src.main import ComputeNetwork
from src.core.task import Task, TaskType, TaskPriority

async def batch_processing_example():
    # –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏
    network = ComputeNetwork(host="127.0.0.1", port=5558)
    
    try:
        # –ó–∞–ø—É—Å–∫
        await network.start()
        await asyncio.sleep(2)
        
        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        data = np.random.rand(10000, 100)  # 10,000 –≤–µ–∫—Ç–æ—Ä–æ–≤ –ø–æ 100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        
        # –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –ø–∞–∫–µ—Ç—ã
        batch_size = 1000
        batches = [data[i:i+batch_size] for i in range(0, len(data), batch_size)]
        
        tasks = []
        
        # –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞
        for i, batch in enumerate(batches):
            task = Task.create_map(
                owner_id=network.node.node_id,
                data=batch.tolist(),
                operation="mean",
                requirements={
                    "cpu_percent": 75.0,
                    "ram_gb": 2.0,
                    "timeout_seconds": 60
                },
                config={
                    "max_price": 0.2,
                    "priority": TaskPriority.NORMAL.value,
                    "batch_id": i
                }
            )
            
            task_id = await network.submit_task(task.to_dict())
            tasks.append(task_id)
            print(f"üì¶ –ó–∞–¥–∞—á–∞ {i+1}/{len(batches)}: {task_id}")
        
        # –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á
        results = []
        for task_id in tasks:
            while True:
                status = await network.get_task_status(task_id)
                if status['status'] == 'completed':
                    result = await network.get_task_result(task_id)
                    results.append(result)
                    break
                await asyncio.sleep(1)
        
        # –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        final_result = np.mean(results, axis=0)
        print(f"üéØ –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {final_result}")
        
    finally:
        await network.stop()

asyncio.run(batch_processing_example())
```

### –ü—Ä–∏–º–µ—Ä 3: ML –∏–Ω—Ñ–µ—Ä–µ–Ω—Å

```python
import asyncio
from src.main import ComputeNetwork
from src.core.task import Task, TaskType, TaskPriority

async def ml_inference_example():
    # –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏
    network = ComputeNetwork(host="127.0.0.1", port=5559)
    
    try:
        # –ó–∞–ø—É—Å–∫
        await network.start()
        await asyncio.sleep(2)
        
        # –ü—É—Ç—å –∫ –º–æ–¥–µ–ª–∏
        model_path = "models/resnet50.h5"
        
        # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        input_data = {
            "image_data": "base64_encoded_image",
            "preprocessing": {
                "normalize": True,
                "resize": (224, 224)
            }
        }
        
        # –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ ML –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞
        task = Task.create_ml_inference(
            owner_id=network.node.node_id,
            model_path=model_path,
            input_data=input_data,
            requirements={
                "cpu_percent": 30.0,
                "ram_gb": 4.0,
                "gpu_percent": 80.0,
                "timeout_seconds": 120
            },
            config={
                "max_price": 1.0,
                "priority": TaskPriority.HIGH.value,
                "return_probabilities": True
            }
        )
        
        # –ü–æ–¥–∞—á–∞ –∑–∞–¥–∞—á–∏
        task_id = await network.submit_task(task.to_dict())
        print(f"ü§ñ ML –∑–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞: {task_id}")
        
        # –û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        while True:
            status = await network.get_task_status(task_id)
            print(f"üìä –°—Ç–∞—Ç—É—Å: {status['status']}")
            
            if status['status'] == 'completed':
                result = await network.get_task_result(task_id)
                print(f"üéØ –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ: {result['predictions']}")
                print(f"üìà –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏: {result['probabilities']}")
                break
            elif status['status'] == 'failed':
                print(f"‚ùå ML –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω")
                break
                
            await asyncio.sleep(2)
            
    finally:
        await network.stop()

asyncio.run(ml_inference_example())
```

### –ü—Ä–∏–º–µ—Ä 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```python
import asyncio
from src.main import ComputeNetwork

async def monitoring_example():
    # –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏
    network = ComputeNetwork(host="127.0.0.1", port=5560)
    
    try:
        # –ó–∞–ø—É—Å–∫
        await network.start()
        await asyncio.sleep(2)
        
        # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
        while True:
            try:
                # –ú–µ—Ç—Ä–∏–∫–∏ —Å–µ—Ç–∏
                network_metrics = await network.get_network_metrics()
                print(f"üåê –£–∑–ª–æ–≤ –≤ —Å–µ—Ç–∏: {network_metrics['total_nodes']}")
                print(f"üìä –ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á: {network_metrics['active_tasks']}")
                print(f"üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU: {network_metrics['cpu_usage']:.1f}%")
                print(f"üß† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM: {network_metrics['ram_usage']:.1f}%")
                
                # –ú–µ—Ç—Ä–∏–∫–∏ –∑–∞–¥–∞—á
                task_metrics = await network.get_task_metrics()
                print(f"‚è±Ô∏è  –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: {task_metrics['avg_execution_time']:.2f}s")
                print(f"üìà –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: {task_metrics['success_rate']:.1f}%")
                print(f"üí∞ –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: {task_metrics['avg_cost']:.4f}")
                
                # –ú–µ—Ç—Ä–∏–∫–∏ –∫—Ä–µ–¥–∏—Ç–æ–≤
                credit_metrics = await network.get_credit_metrics()
                print(f"üí≥ –ë–∞–ª–∞–Ω—Å: {credit_metrics['balance']:.2f}")
                print(f"üìä –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: {credit_metrics['total_transactions']}")
                
                print("-" * 50)
                await asyncio.sleep(10)
                
            except KeyboardInterrupt:
                break
                
    finally:
        await network.stop()

asyncio.run(monitoring_example())
```

---

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –¢–∏–ø—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```python
# –ë–∞–∑–æ–≤—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
class NetworkError(Exception):
    """–û—à–∏–±–∫–∞ —Å–µ—Ç–∏"""
    
class TaskError(Exception):
    """–û—à–∏–±–∫–∞ –∑–∞–¥–∞—á–∏"""
    
class NodeError(Exception):
    """–û—à–∏–±–∫–∞ —É–∑–ª–∞"""
    
class CreditError(Exception):
    """–û—à–∏–±–∫–∞ –∫—Ä–µ–¥–∏—Ç–æ–≤"""
    
class SandboxError(Exception):
    """–û—à–∏–±–∫–∞ sandbox"""
```

### –ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

```python
import asyncio
from src.main import ComputeNetwork
from src.core.task import Task, TaskType

async def error_handling_example():
    network = ComputeNetwork(host="127.0.0.1", port=5561)
    
    try:
        await network.start()
        
        # –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∑–∞–¥–∞—á—É
        try:
            task_data = {
                "task_type": "invalid_type",
                "owner_id": "user-001",
                "requirements": {},
                "config": {}
            }
            
            task_id = await network.submit_task(task_data)
            
        except TaskError as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –∑–∞–¥–∞—á–∏: {e}")
            
        # –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∑–∞–¥–∞—á–∏
        try:
            status = await network.get_task_status("nonexistent_task_id")
            
        except TaskError as e:
            print(f"‚ùå –ó–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: {e}")
            
        # –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–º—É —É–∑–ª—É
        try:
            success = await network.connect_to_node("nonexistent_node")
            
        except NetworkError as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏: {e}")
            
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ–≤
        try:
            # –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤
            success = network.credits.transfer_credits("node-002", 1000.0)
            
        except CreditError as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –∫—Ä–µ–¥–∏—Ç–æ–≤: {e}")
            
    except Exception as e:
        print(f"üí• –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")
        
    finally:
        await network.stop()

asyncio.run(error_handling_example())
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

```python
import logging
from src.main import ComputeNetwork

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)

logger = logging.getLogger(__name__)

async def logging_example():
    network = ComputeNetwork(host="127.0.0.1", port=5562)
    
    try:
        await network.start()
        
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
        try:
            # –û–ø–µ—Ä–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É
            result = await network.get_task_status("invalid_id")
            
        except Exception as e:
            logger.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞: {e}", exc_info=True)
            logger.warning("–≠—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –≤–æ–∑–º–æ–∂–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ")
            logger.info("–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ")
            
    finally:
        await network.stop()

asyncio.run(logging_example())
```

---

## üì° WebSocket API

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket

```python
import asyncio
import websockets
import json

async def websocket_example():
    uri = "ws://localhost:5557/ws"
    
    async with websockets.connect(uri) as websocket:
        # –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á
        subscribe_message = {
            "type": "subscribe",
            "event": "task_updates"
        }
        
        await websocket.send(json.dumps(subscribe_message))
        
        # –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
        async for message in websocket:
            data = json.loads(message)
            
            if data['type'] == 'task_update':
                task_id = data['task_id']
                status = data['status']
                print(f"üìä –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ {task_id}: {status}")
                
            elif data['type'] == 'network_update':
                metrics = data['metrics']
                print(f"üåê –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ç–∏: {metrics}")
                
            elif data['type'] == 'error':
                error = data['error']
                print(f"‚ùå –û—à–∏–±–∫–∞: {error}")

asyncio.run(websocket_example())
```

### WebSocket —Å–æ–±—ã—Ç–∏—è

```python
# –°–æ–±—ã—Ç–∏—è –∑–∞–¥–∞—á
{
    "type": "task_update",
    "task_id": "task_001",
    "status": "running",
    "progress": 0.5,
    "timestamp": 1234567890.123
}

# –°–æ–±—ã—Ç–∏—è —Å–µ—Ç–∏
{
    "type": "network_update",
    "metrics": {
        "total_nodes": 10,
        "active_tasks": 5,
        "cpu_usage": 45.2,
        "ram_usage": 67.8
    },
    "timestamp": 1234567890.123
}

# –°–æ–±—ã—Ç–∏—è —É–∑–ª–æ–≤
{
    "type": "node_update",
    "node_id": "node_001",
    "status": "online",
    "capabilities": {
        "cpu_score": 8.0,
        "ram_gb": 16.0
    },
    "timestamp": 1234567890.123
}

# –û—à–∏–±–∫–∏
{
    "type": "error",
    "error": "Task execution failed",
    "details": {
        "task_id": "task_001",
        "error_code": "EXECUTION_FAILED",
        "error_message": "Memory limit exceeded"
    },
    "timestamp": 1234567890.123
}
```

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

API –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π P2P –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–π —Å–µ—Ç–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–π –∏ –≥–∏–±–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è:

- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç—å—é** - –∑–∞–ø—É—Å–∫, –æ—Å—Ç–∞–Ω–æ–≤–∫–∞, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ **–†–∞–±–æ—Ç—ã —Å –∑–∞–¥–∞—á–∞–º–∏** - —Å–æ–∑–¥–∞–Ω–∏–µ, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏** - compute-–∫—Ä–µ–¥–∏—Ç—ã, —Ä–µ–ø—É—Ç–∞—Ü–∏—è
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - sandbox –∏–∑–æ–ª—è—Ü–∏—è
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - WebSocket API

API –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–µ–Ω –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç comprehensive error handling –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

üöÄ **API –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö!**
